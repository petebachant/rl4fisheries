stages:
  _check-env-main:
    cmd: calkit check environment --name main
    deps:
      - pyproject.toml
    outs:
      - uv.lock:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be
      overwritten.
  _check-env-for-results:
    cmd: calkit check environment --name for-results
    deps:
      - notebooks/for_results/requirements.txt
    outs:
      - .calkit/env-locks/for-results.txt:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be
      overwritten.
  _clean-nb-tests:
    cmd: calkit nb clean 
      "notebooks/for_generating_results/0_tests.ipynb"
    deps:
      - notebooks/for_generating_results/0_tests.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/0_tests.ipynb:
          cache: false
    desc: Automatically generated from the 'tests' stage in 
      calkit.yaml. Changes made here will be overwritten.
  tests:
    cmd: calkit nb execute --environment main --no-check --to html 
      "notebooks/for_generating_results/0_tests.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/0_tests.ipynb
      - uv.lock
    outs:
      - .calkit/notebooks/executed/notebooks/for_generating_results/0_tests.ipynb:
          cache: false
      - .calkit/notebooks/html/notebooks/for_generating_results/0_tests.html:
          cache: false
    desc: Automatically generated from the 'tests' stage in 
      calkit.yaml. Changes made here will be overwritten.
  _clean-nb-fp-skopt:
    cmd: calkit nb clean 
      "notebooks/for_generating_results/1_fp_skopt.ipynb"
    deps:
      - notebooks/for_generating_results/1_fp_skopt.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/1_fp_skopt.ipynb:
          cache: false
    desc: Automatically generated from the 'fp-skopt' stage in 
      calkit.yaml. Changes made here will be overwritten.
  fp-skopt:
    cmd: calkit nb execute --environment main --no-check --to html 
      "notebooks/for_generating_results/1_fp_skopt.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/1_fp_skopt.ipynb
      - uv.lock
    outs:
      - notebooks/for_generating_results/csv/opt-params.csv:
          cache: false
          persist: false
      - .calkit/notebooks/executed/notebooks/for_generating_results/1_fp_skopt.ipynb:
          cache: false
      - .calkit/notebooks/html/notebooks/for_generating_results/1_fp_skopt.html:
          cache: false
    desc: Automatically generated from the 'fp-skopt' stage in 
      calkit.yaml. Changes made here will be overwritten.
  _clean-nb-reward-distr:
    cmd: calkit nb clean 
      "notebooks/for_generating_results/2_reward_distr.ipynb"
    deps:
      - notebooks/for_generating_results/2_reward_distr.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/2_reward_distr.ipynb:
          cache: false
    desc: Automatically generated from the 'reward-distr' stage in 
      calkit.yaml. Changes made here will be overwritten.
  reward-distr:
    cmd: calkit nb execute --environment main --no-check --to html 
      "notebooks/for_generating_results/2_reward_distr.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/2_reward_distr.ipynb
      - uv.lock
    outs:
      - notebooks/for_generating_results/csv/UM1_rew.csv
      - notebooks/for_generating_results/csv/UM2_rew.csv
      - notebooks/for_generating_results/csv/UM3_rew.csv
      - .calkit/notebooks/executed/notebooks/for_generating_results/2_reward_distr.ipynb:
          cache: false
      - .calkit/notebooks/html/notebooks/for_generating_results/2_reward_distr.html:
          cache: false
    desc: Automatically generated from the 'reward-distr' stage in 
      calkit.yaml. Changes made here will be overwritten.
  _clean-nb-policy-plots:
    cmd: calkit nb clean 
      "notebooks/for_generating_results/3_policy_plots.ipynb"
    deps:
      - notebooks/for_generating_results/3_policy_plots.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/3_policy_plots.ipynb:
          cache: false
    desc: Automatically generated from the 'policy-plots' stage in 
      calkit.yaml. Changes made here will be overwritten.
  policy-plots:
    cmd: calkit nb execute --environment main --no-check --to html 
      "notebooks/for_generating_results/3_policy_plots.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/for_generating_results/3_policy_plots.ipynb
      - uv.lock
    outs:
      - notebooks/for_generating_results/csv/UM1_policies.csv
      - notebooks/for_generating_results/csv/UM2_policies.csv
      - notebooks/for_generating_results/csv/UM3_policies.csv
      - .calkit/notebooks/executed/notebooks/for_generating_results/3_policy_plots.ipynb:
          cache: false
      - .calkit/notebooks/html/notebooks/for_generating_results/3_policy_plots.html:
          cache: false
    desc: Automatically generated from the 'policy-plots' stage in 
      calkit.yaml. Changes made here will be overwritten.
  _clean-nb-download-data:
    cmd: calkit nb clean "notebooks/for_results/2-download-data.ipynb"
    deps:
      - notebooks/for_results/2-download-data.ipynb
    outs:
      - .calkit/notebooks/cleaned/notebooks/for_results/2-download-data.ipynb:
          cache: false
    desc: Automatically generated from the 'download-data' stage in 
      calkit.yaml. Changes made here will be overwritten.
  download-data:
    cmd: calkit nb execute --environment for-results --no-check --to 
      html "notebooks/for_results/2-download-data.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/for_results/2-download-data.ipynb
      - .calkit/env-locks/for-results.txt
    outs:
      - notebooks/for_results/data/rl4fisheries-reproducing:
          cache: false
          persist: false
      - .calkit/notebooks/executed/notebooks/for_results/2-download-data.ipynb:
          cache: true
      - .calkit/notebooks/html/notebooks/for_results/2-download-data.html:
          cache: true
    desc: Automatically generated from the 'download-data' stage in 
      calkit.yaml. Changes made here will be overwritten.
